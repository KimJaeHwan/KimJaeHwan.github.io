---
layout: single
title: "데이터베이스_2" 
---

# 데이터베이스

## 다중값 종속을 이용한 분해

------

- 다중값 종속을 이용한 분해(4NF)
- 다른 정규형들
- 데이터베이스 설계절차

## BCNF는 충분한가?

- 충분히 정규화 되지 않은 BCNF가 있을수 있다.

이때 우리는 BCNF를 사용하지못하고 제4정규형(4NF )을 사용한다.

------

## 다중값 종속(Multivalued Dependencies,MVD)

- R을 릴레이션 스키마라하고 α⊆R이고 β⊆R이라 하자.

  ​						α→→β

  

### 예제

- R을 아래와 같은 3개의 공집합이 아닌 부분 집합으로 분할된 애트리뷰트의 집합을 가진 릴레이션 스키마라하자,

  ​							[Y,Z,W]

-   Y→→Z(Y가 Z를 다중 결정한다)를 만족하는 필요 충분 조건은 모든 가능한r(R)에대해 아래와 같을 때이다

  - <y1,z1,w1> ∈ r 이고 <y1,z2,w2> ∈ r 이면
  - <y1,z1,w2> ∈ r 이고 <y1,z2,w1> ∈ r 이다.

|  Y   |  Z   |  W   |
| :--: | :--: | :--: |
|  y1  |  z1  |  w1  |
|  y1  |  z2  |  w2  |
|  y1  |  z1  |  w2  |
|  y1  |  z2  |  w1  |

- <y1,z1,w1> ∈ r 이고 <y1,z2,w2> ∈ r 일경우 Y와 W를 같이보면  Z는 z1또는 z2와같이 하나만 나오게된다. 따라서 하나만 나오지 않게 하기위해 y1,w1에 z2를 추가하여주고 y1,w2에 z1을 추가하여준다.
- Z와 W의 행위는 동일하기 때문에 Y→→Z를 만족하는 필요 충분 조건은 Y→→W를 따른다는 사실을 유의하라

### 다중값 종속의 사용

- 두가지 방식으로 다중값 종속을 사용한다.
  1. 릴레이션이 주어진 함수 종속과 다중값 종속 집합하에서 적법한가의 여부를 결정하는데 사용한다.
  2. 적법한 릴레이션의 집합에 제약조건을 지정하는데 사용한다.
- 릴레이션 r이 주어진 다중값 종ㅅ속을 만족하지 않으면, r에 튜플들을 추가하여 다중값 종속을 만족하는 릴레이션 r`을 구축할 수 있다.

------

## 다중값 종속이론

- D를 함수 및 다중값 종속의 집합이라 하자.D의 폐포 D+는 D에 논리적으로 내포된 모든 함수적 및 다중값 종속의 집합이다.

- 함수적 및 다중값 종속에 대한 건전하고 완전한 추론 규칙들(FD와 같음)

  1. 재귀규칙 : α가 애트리뷰트의 집합이고 β ⊆ α 이면, α → β가 성립한다.

  2. 증가규칙 : α → β이고 γ가 애트리뷰트의 집합이면 γα → γβ가 성립한다.

  3. 이행규칙 : α → β이고 β → γ이면, α → γ가 성립한다.

     ​	암스트롱의 공리

------

## 제4정규형(4NF)

α ⊆ R 이고 β ⊆ R인  α →→ β

α ⊆ R 이고 β ⊆ R인 α →→ β 형태의 D+내 모든 다중값 종속에 대해 다음중 하나의 조건이 만족되면, 함수 및 다중값 종속의 집합 D에 대해 릴레이션 스키마 R은 4NF이다. 

-  α →→ β 가 자명하다 (즉, β ⊆ α 또는 α ∪ β= R) 
- α 가 스키마 R의 수퍼키이다.

릴레이션이 4NF이면, 그것은 BCNF이다.

